(this["webpackJsonpgame-of-life"]=this["webpackJsonpgame-of-life"]||[]).push([[0],{48:function(e,t,n){e.exports=n(63)},53:function(e,t,n){},54:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(22),c=n.n(l),i=(n(53),n(13)),o=n(36);n(54);function u(e){var t={left:11+20*e.column,top:1+20*e.row};return a.createElement("div",{className:"cell alive","data-column":e.column,"data-row":e.row,style:t})}var s,m=n(37),f=n(65),v=n(67),h=n(69),d=n(66),p=n(70),b=n(32),w=n(71),g=n(21),y=n(24);!function(e){e.StillLife="Still life",e.Oscillator="Oscillator",e.Spaceship="Spaceship"}(s||(s={}));var E=[[0,2],[0,3],[0,4],[2,0],[2,5],[3,0],[3,5],[4,0],[4,5],[5,2],[5,3],[5,4]],O=[[0,2],[1,1],[1,2],[1,3],[2,0],[2,1],[2,2],[2,3],[2,4]];function S(e){var t=-1,n=-1;return e.forEach((function(e){e[0]>t&&(t=e[0]),e[1]>n&&(n=e[1])})),[t,n]}function j(e,t,n){return e.map((function(e){return[e[0]+t,e[1]+n]}))}function x(e){var t=S(e)[1];return e.map((function(e){return[e[0],t-e[1]]}))}function k(e){var t=S(e)[0];return e.map((function(e){return[t-e[0],e[1]]}))}var C,A={beehive:{pattern:[[0,1],[0,2],[1,0],[1,3],[2,1],[2,2]],type:s.StillLife},block:{pattern:[[0,0],[0,1],[1,0],[1,1]],type:s.StillLife},boat:{pattern:[[0,0],[0,1],[1,0],[1,2],[2,1]],type:s.StillLife},loaf:{pattern:[[0,1],[0,2],[1,0],[1,3],[2,1],[2,3],[3,2]],type:s.StillLife},tub:{pattern:[[0,1],[1,0],[1,2],[2,1]],type:s.StillLife},beacon:{pattern:[[0,0],[0,1],[1,0],[1,1],[2,2],[2,3],[3,2],[3,3]],type:s.Oscillator},blinker:{pattern:[[0,0],[0,1],[0,2]],type:s.Oscillator},pulsar:{pattern:[].concat(E,Object(y.a)(j(k(E),7,0)),Object(y.a)(j(x(E),0,7)),Object(y.a)(j(x(k(E)),7,7))),type:s.Oscillator},pentaDecathlon:{name:"penta-decathlon",pattern:[].concat(O,Object(y.a)(j(k(O),9,0))),type:s.Oscillator},toad:{pattern:[[0,1],[0,2],[0,3],[1,0],[1,1],[1,2]],type:s.Oscillator},glider:{pattern:[[0,1],[1,2],[2,0],[2,1],[2,2]],type:s.Spaceship},heavyweigt:{pattern:[[0,1],[0,2],[0,3],[0,4],[0,5],[0,6],[1,0],[1,6],[2,6],[3,0],[3,5],[4,2],[4,3]],type:s.Spaceship},lightweigt:{pattern:[[0,0],[0,3],[1,4],[2,0],[2,4],[3,1],[3,2],[3,3],[3,4]],type:s.Spaceship},middleweigt:{pattern:[[0,2],[1,0],[1,4],[2,5],[3,0],[3,5],[4,1],[4,2],[4,3],[4,4],[4,5]],type:s.Spaceship}};function I(e){var t=e.state===C.Selecting,n=t||e.state===C.Initial,r=e.state===C.Playing,l=r?"Pause":n?"Start":"Continue";return a.createElement(m.a,{className:"controls",justify:"center",height:"110px"},a.createElement(m.a,{direction:"column",justify:"center"},a.createElement(f.a,{mt:3,mb:2},a.createElement(v.a,{hasArrow:!0,"aria-label":l,label:l+" game",placement:"bottom",zIndex:2},a.createElement(h.a,{"aria-label":l,icon:r?g.b:g.c,isDisabled:!e.hasAliveCells,onClick:function(){e.changeState(e.state===C.Playing?C.Initial:C.Playing)},variantColor:"teal"})),a.createElement(v.a,{hasArrow:!0,"aria-label":"Select",label:"Select random cells",placement:"bottom",zIndex:2},a.createElement(h.a,{"aria-label":"Select",className:t?"checked-button":"unchecked-button",icon:g.e,isDisabled:!n,ml:3,onClick:function(){e.changeState(t?C.Initial:C.Selecting)},variantColor:"teal"})),a.createElement(v.a,{hasArrow:!0,"aria-label":"Random",label:"Select random cells",placement:"bottom",zIndex:2},a.createElement(h.a,{"aria-label":"Random",icon:g.d,isDisabled:!n,ml:3,onClick:e.random,variantColor:"teal"})),a.createElement(v.a,{hasArrow:!0,"aria-label":"Clear",label:"Clear all cells",placement:"bottom",zIndex:2},a.createElement(h.a,{"aria-label":"Clear",icon:g.a,isDisabled:!n||!e.hasAliveCells,ml:3,onClick:e.clear,variantColor:"teal"}))),a.createElement(m.a,null,a.createElement(d.a,{mt:2,htmlFor:"interval",isDisabled:r},"Refresh ms:"),a.createElement(p.c,{id:"interval",isDisabled:r,max:1e4,mb:"7px",min:100,onChange:function(t){e.changeInterval(Number(t))},step:100,value:e.interval,w:100},a.createElement(p.d,null),a.createElement(p.e,null,a.createElement(p.b,null),a.createElement(p.a,null))))),a.createElement(b.a,{ml:4,mt:4,isDisabled:!n},a.createElement(d.a,{htmlFor:"pattern"},"Preselected patterns"),a.createElement(w.a,{id:"pattern",placeholder:"Select pattern",onChange:function(t){var n,a=null===(n=t.target)||void 0===n?void 0:n.value;a&&e.selectPattern&&e.selectPattern(a,A[a])},value:e.pattern},Object.entries(A).map((function(e){var t=Object(i.a)(e,2),n=t[0],r=t[1];return a.createElement("option",{key:n,value:n},r.type+" - "+(r.name||n))})))))}function D(e){var t=Object(a.useRef)(null),n=e.state,l=e.select,c=e.setDimensions,i=Object(a.useCallback)((function(e){if(n===C.Selecting){var t=e.nativeEvent.offsetX,a=e.nativeEvent.offsetY,r={column:Math.floor((t-11)/20),row:Math.floor((a-1)/20)};l(r)}}),[l,n]);Object(a.useLayoutEffect)((function(){if(t.current){var e=t.current.offsetWidth,n=t.current.offsetHeight,a=Math.floor((e-20)/20),r=Math.floor((n-20)/20);c({columns:a,rows:r})}}),[c]);var o="board",s=[],m=[];if(e.state===C.Selecting&&e.columns&&e.rows){o+=" grid";for(var f=1;f<e.columns;f++)s.push(r.a.createElement("div",{className:"column",key:f,style:{left:10+20*f}}));for(var v=1;v<e.rows;v++)m.push(r.a.createElement("div",{className:"row",key:v,style:{top:20*v}}))}return r.a.createElement("div",{className:o,onClick:i,ref:t},e.alive.map((function(e,t){return r.a.createElement(u,{key:t,column:e.column,row:e.row})})),s,m)}!function(e){e.Initial="initial",e.Selecting="selecting",e.Playing="playing"}(C||(C={}));var _,P=n(68),L=n(20),N=n(72),M=n(33),R=n(34);!function(e){e[e.Alive=0]="Alive",e[e.Dead=1]="Dead"}(_||(_={}));var z=function(){function e(t){Object(M.a)(this,e),this.index=t,this._state=void 0,this._next=void 0}return Object(R.a)(e,[{key:"cycle",value:function(){this._state=this._next}},{key:"state",get:function(){return this._state}},{key:"next",set:function(e){this._next=e}}]),e}(),W=function(){function e(t,n){var a=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.05,l=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];Object(M.a)(this,e),this.rows=t,this.columns=n,this.chanceToLive=r,this._grid=void 0,this.alive=function(){return a._grid.filter((function(e){return e.state===_.Alive})).map((function(e){return e.index}))},this.clear=function(){a._grid.forEach((function(e){e.next=_.Dead,e.cycle()}))},this.random=function(){return a._grid.forEach((function(e){e.next=a.randomState(),e.cycle()})),a.alive()},this.select=function(e){var t=a.getCell(e);t&&(t.next=t.state===_.Alive?_.Dead:_.Alive,t.cycle())},this.selectPattern=function(e){var t=S(e.pattern),n=Object(i.a)(t,2),r=n[0],l=n[1];if(r>=0&&l>=0){var c=Math.floor((a.rows-r)/2),o=e.type===s.Spaceship?1:Math.floor((a.columns-l)/2);a.clear(),e.pattern.forEach((function(e){var t=a.getCell({row:c+e[0],column:o+e[1]});t&&(t.next=_.Alive,t.cycle())}))}},this.step=function(){a._grid.forEach((function(e){return a.calcNext(e)})),a._grid.forEach((function(e){return e.cycle()}))},this.calcNext=function(e){var t=e.index,n=[{row:t.row-1,column:t.column-1},{row:t.row-1,column:t.column},{row:t.row-1,column:t.column+1},{row:t.row,column:t.column-1},{row:t.row,column:t.column+1},{row:t.row+1,column:t.column-1},{row:t.row+1,column:t.column},{row:t.row+1,column:t.column+1}].map((function(e){return a.getCell(e)})).filter((function(e){return!!e})).filter((function(e){return e.state===_.Alive})).length;e.state===_.Alive?e.next=2===n||3===n?_.Alive:_.Dead:e.next=3===n?_.Alive:_.Dead},this.getCell=function(e){return a.isValidIndex(e)?a._grid[e.row*a.columns+e.column]:null},this.init=function(){for(var e=0,t=0;t<a.rows;t++)for(var n=0;n<a.columns;n++,e++){var r=new z({row:t,column:n});r.next=a.randomState(),r.cycle(),a._grid[e]=r}},this.initEmpty=function(){for(var e=0,t=0;t<a.rows;t++)for(var n=0;n<a.columns;n++,e++){var r=new z({row:t,column:n});r.next=_.Dead,r.cycle(),a._grid[e]=r}},this.isValidIndex=function(e){return e.row>=0&&e.row<a.rows&&e.column>=0&&e.column<a.columns},this._grid=new Array(t*n),l?this.init():this.initEmpty()}return Object(R.a)(e,[{key:"randomState",value:function(){return Math.random()<this.chanceToLive?_.Alive:_.Dead}},{key:"grid",get:function(){return this._grid}}]),e}(),B=Object(o.a)({},P.a,{colors:Object(o.a)({},P.a.colors,{brand:{900:"#1a365d",800:"#153e75",700:"#2a69ac"}})});var F=function(){var e,t,n=Object(a.useState)([]),l=Object(i.a)(n,2),c=l[0],o=l[1],u=Object(a.useState)(1e3),s=Object(i.a)(u,2),m=s[0],f=s[1],v=Object(a.useState)(""),h=Object(i.a)(v,2),d=h[0],p=h[1],b=Object(a.useState)(C.Initial),w=Object(i.a)(b,2),g=w[0],y=w[1],E=Object(a.useRef)(null),O=Object(a.useCallback)((function(e){E.current&&E.current.rows===e.rows&&E.current.columns===e.columns||(E.current=new W(e.rows,e.columns),o(E.current.alive()))}),[]),S=Object(a.useCallback)((function(e){E.current&&(e.column>=0&&e.column<E.current.columns&&e.row>=0&&e.row<E.current.rows&&E.current.select(e),o(E.current.alive()))}),[]),j=Object(a.useCallback)((function(){E.current&&o(E.current.random())}),[]);return Object(a.useEffect)((function(){var e=null;return g!==C.Playing||e||(e=window.setInterval((function(){var e;null===(e=E.current)||void 0===e||e.step();var t=E.current.alive();o(t),0===t.length&&y(C.Initial)}),m)),g===C.Initial&&e&&(window.clearInterval(e),e=null),function(){e&&(window.clearInterval(e),e=null)}}),[m,g]),r.a.createElement(L.a,{theme:B},r.a.createElement(N.a,null),r.a.createElement(I,{changeInterval:f,changeState:y,clear:function(){E.current&&(E.current.clear(),o([]),p(""))},hasAliveCells:c.length>0,interval:m,pattern:d,random:j,selectPattern:function(e,t){E.current&&(E.current.selectPattern(t),o(E.current.alive()),p(e))},state:g}),r.a.createElement(D,{alive:c,columns:null===(e=E.current)||void 0===e?void 0:e.columns,rows:null===(t=E.current)||void 0===t?void 0:t.rows,select:S,setDimensions:O,state:g}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[48,1,2]]]);
//# sourceMappingURL=main.303efa77.chunk.js.map